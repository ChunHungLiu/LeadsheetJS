# LeadsheetJS

A JavaScript library for online music leadsheets (visualizing, playing, editing and other features). 2015 Daniel Martín and Timotée Neullas

## How to use 
Needs RequireJS, include in your HTML compiled and minified LeadsheetJS.
Important: for HTML generated by LeadsheetJS to work, the document should by specified as HTML5, so tag `<!DOCTYPE html>` goes at the top of the page.
	<script data-main="my_main.js" src="../../external-libs/require.js"></script>

In `my_main.js`

	define([
		'_your_path_to_external_libs_/jquery.min',
		'_your_path_to_external_libs_/LeadsheetJS-0.1.0.min'
		],
		function($, LeadsheetJS) {
			var $ = require();
			var LeadsheetJS = require('_your_path_to_external_libs_/LeadsheetJS-0.1.0.min');
			var params = {
				'viewer': {'HTMLElement': document.getElementById('myViewerDiv')}, // minimum parameters for viewer
				'player': {'HTMLElement': document.getElementById('myPlayerDiv')}, // minimum parameters for player
				'edition': {'notes': true}, // minimum parameters for edition (notes chords and structure are editable by default)
			};
			var myLeadsheet = LeadsheetJS.init(testSongs.simpleLeadSheet, params);
			// You are using LeadsheetJS
		}
	);

Call your Require and Qunit working, done following  http://www.nathandavison.com/article/17/using-qunit-and-requirejs-to-build-modular-unit-tests

## Get the code to work with

### Get code and dependencies

To setup the build environments, first install NodeJS and npm.

	$ git clone _this_repository_

Then, from the LeadsheetJS/ directory run:

	$ cd LeadsheetJS/
	$ npm install
	$ npm install -g grunt-cli

### Build with grunt.

	$ grunt

If you are changing some files you can use grunt watch, it will build LeadsheetJS each time a file is modified.

	$ grunt watch

To run tests in the browser, open a new tab:
 - `tests/test.html` for functionnal tests
 - `tests/viewer-test.html` for visual tests